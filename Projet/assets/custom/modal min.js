export function initModal(){let overlay,modalContainer,imgElement,prevBtn,nextBtn;let images=[];let currentIndex=0;function createModal(){overlay=document.createElement("div");overlay.className="modal-overlay";modalContainer=document.createElement("div");modalContainer.className="modal-container";imgElement=document.createElement("img");imgElement.className="modal-image";prevBtn=document.createElement("button");prevBtn.className="modal-btn prev";prevBtn.textContent="<";prevBtn.ariaLabel="Images précédentes";nextBtn=document.createElement("button");nextBtn.className="modal-btn next";nextBtn.textContent=">";prevBtn.ariaLabel="Images suivante";modalContainer.appendChild(prevBtn);modalContainer.appendChild(imgElement);modalContainer.appendChild(nextBtn);overlay.appendChild(modalContainer);document.body.appendChild(overlay);overlay.addEventListener("click",e=>{if(e.target===overlay)closeModal();});prevBtn.addEventListener("click",e=>{e.stopPropagation();showPrev()});nextBtn.addEventListener("click",e=>{e.stopPropagation();showNext()})}
function openModal(imgs,startIndex=0){if(!overlay)createModal();images=imgs;currentIndex=startIndex;updateImage();overlay.classList.add("active")}
function closeModal(){overlay.classList.remove("active")}
function showPrev(){currentIndex=(currentIndex-1+images.length)%images.length;updateImage()}
function showNext(){currentIndex=(currentIndex+1)%images.length;updateImage()}
function updateImage(){imgElement.style.opacity=0;const{src,alt}=images[currentIndex];imgElement.src=src;imgElement.alt=alt;setTimeout(()=>{imgElement.style.opacity=1},50)}
return{openModal,closeModal,}}