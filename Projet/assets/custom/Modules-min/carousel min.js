export function initCarousel(){const wrapper=document.querySelector(".carousel-wrapper");const slides=[...wrapper.querySelectorAll(".carousel-items")];const prevBtn=document.getElementById("carousel-prev");const nextBtn=document.getElementById("carousel-next");const indicatorContainer=document.getElementById("carousel-indocator");const track=document.createElement("div");track.className="carousel-track";slides.forEach(slide=>track.appendChild(slide));wrapper.appendChild(track);const total=slides.length;let index=1;let isAnimating=!1;const firstClone=slides[0].cloneNode(!0);const lastClone=slides[total-1].cloneNode(!0);track.appendChild(firstClone);track.insertBefore(lastClone,track.firstChild);const allSlides=[...track.children];let slideWidth=wrapper.offsetWidth;window.addEventListener("resize",()=>{slideWidth=wrapper.offsetWidth;setTranslate(!1)});setTranslate(!1);nextBtn.addEventListener("click",()=>moveTo(index+1));prevBtn.addEventListener("click",()=>moveTo(index-1));track.addEventListener("transitionend",()=>{if(allSlides[index]===firstClone){track.style.transition="none";index=1;setTranslate(!1)}
if(allSlides[index]===lastClone){track.style.transition="none";index=total;setTranslate(!1)}
isAnimating=!1});createIndicators();updateIndicators();function setTranslate(animate=!0){track.style.transition=animate?"transform 0.5s ease":"none";track.style.transform=`translateX(${-index * slideWidth}px)`}
function moveTo(newIndex){if(isAnimating)return;isAnimating=!0;index=newIndex;setTranslate(!0);updateIndicators()}
function createIndicators(){slides.forEach((_,i)=>{const btn=document.createElement("button");btn.className="carousel-indicator-btn";btn.ariaLabel="Afficher image carrousel"
btn.addEventListener("click",()=>moveTo(i+1));indicatorContainer.appendChild(btn)})}
function updateIndicators(){const indicators=indicatorContainer.querySelectorAll("button");indicators.forEach(btn=>btn.classList.remove("active"));let realIndex=index-1;if(realIndex<0)realIndex=total-1;if(realIndex>=total)realIndex=0;indicators[realIndex].classList.add("active")}}